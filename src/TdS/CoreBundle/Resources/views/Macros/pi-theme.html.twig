{% macro theme(saison, theme, draftmodeTheme, joggeurForDraftmodeTheme) %}
	{% if saison is defined and saison is not null %}
		<div class="">
			<h3 class="sub-sub-title">Thèmes</h3>
			
			<div class="pl2 pv3">
				<h4 class="sub-sub-title">En attente</h4>									
					{% if is_granted("ROLE_SUPER_ADMIN")  %}
						{% if draftmodeTheme is not null %}
		        			<div class="mv2">
								<svg class="icon icon--s icon-checkmark dib v-mid"><use xlink:href="#icon-checkmark"></use></svg>
								<span class="dib v-mid">Il y a un thème en attente</span>
							</div>
							{% if draftmodeTheme.joggeur == app.user.joggeur %}
								<a class="button" href="{{ path('tds_marathon_theme_edit_draftmode', {'id': draftmodeTheme.id}) }}">
										<svg class="icon icon--s icon-pencil"><use xlink:href="#icon-pencil"></use></svg>
										<span class="">Modifier le thème d'attente</span>
								</a>
							{% endif %}
		        		{% else %}
		        			<div class="mv2">
								<svg class="icon icon--s icon-warning dib v-mid"><use xlink:href="#icon-warning"></use></svg>
								<span class="dib v-mid i dark-gray">Il n'y a pas de thème en attente</span>
							</div>

							<div class="ptm pbm sep--dashed clearfix">
								{% if joggeurForDraftmodeTheme is not null %}
	        						<strong>Le prochain thème doit être proposé par :</strong>
	        						<div class='thumb-line author ptm'>
										<a href="{{ path('tds_marathon_joggeur_view', {'id': joggeurForDraftmodeTheme.id}) }}">
											<span class="author-thumb">
												{% if joggeurForDraftmodeTheme.image is defined or joggeurForDraftmodeTheme.image is not null or joggeurForDraftmodeTheme.image is not empty %}
													<img class='thumbnail' src='{{ joggeurForDraftmodeTheme.image.webPath | imagine_filter('tiny_thumb')  }}'/>
												{% else %}
										  			<img class='thumbnail' src="{{ 'uploads/img/anonymous.jpg' | imagine_filter('tiny_thumb') }}" alt="">		
												{% endif %} 
											</span>
											<span class="author-name">
												{{ joggeurForDraftmodeTheme.pseudo }}
											</span>
										</a>
									</div>

									{% if joggeurForDraftmodeTheme.user is defined and joggeurForDraftmodeTheme.user is not null %}
										<a class="button" href="mailto:{{ joggeurForDraftmodeTheme.user.email }}">
											<svg class="icon icon--s icon-paperplane dib v-mid"><use xlink:href="#icon-paperplane"></use></svg>
											<span class="dib v-mid">Lui envoyer un message télépathique</span>
										</a>
									{% endif %}
		        				{% else %}
		        					<div class="mv2">
			        					<svg class="icon icon--s icon-warning dib v-mid"><use xlink:href="#icon-warning"></use></svg>
										<span class="dib v-mid i dark-gray">Il n'y a pas d'auteur attitré <br/>(pas de 10ème participant au thème en cours)</span>
									</div>
									
								{% endif %}	
	    					</div>

	    					<a class="button dib"  href="{{ path('tds_marathon_theme_add_draftmode') }}">
									<svg class="icon icon--s icon-pencil"><use xlink:href="#icon-pencil"></use></svg>
									<span class="">Ecrire un thème d'attente</span>
								</a>
	    				{% endif %}

	    			{% elseif is_granted("ROLE_USER")  %}
	    				<div class="pbm flex-container-h clearfix">
	    				{% if joggeurForDraftmodeTheme is not null %}
	        				{% if app.user.joggeur == joggeurForDraftmodeTheme %}
	        					{% if draftmodeTheme is not defined or draftmodeTheme.statut is not null or draftmodeTheme.statut != 0 %} 
	        						<div class="flex-item-fluid"><strong class="text--m">Tu es l'élu !</strong><br/> 
	        							C'est à toi de proposer le prochain thème.</div>
	        						<div class="pull-right">
		        						<a class="button btn btn-action "  href="{{ path('tds_marathon_theme_add_draftmode') }}">
												<svg class="icon icon--s icon-pencil"><use xlink:href="#icon-pencil"></use></svg>
												<span class="btn__label">Ecrire un thème d'attente</span>
										</a>
									</div>
								{% elseif draftmodeTheme is defined and draftmodeTheme.statut == 0 %}
									{% if draftmodeTheme.joggeur == app.user.joggeur %}
										<div class="">
											<strong class="db">Tu es l'élu !</strong>

		        							<span class="db"> Tu as déjà écris le thème en attente mais il est encore temps de le modifier.</span>
		        						</div>
		        						<div class="fr mv2">
											<a class="button" href="{{ path('tds_marathon_theme_edit_draftmode', {'id': draftmodeTheme.id}) }}">
		  										<svg class="icon icon--s icon-pencil"><use xlink:href="#icon-pencil"></use></svg>
		  										<span class="">Modifier le thème d'attente</span>
											</a>
										</div>
									{% else %}
										<div class="mv2">
											<strong class="db">Tu es l'élu !</strong> 
		        							<span class="db i dark-gray">Mais Bob marathon t'as devancé et a écris le thème d'attente à ta place, va savoir pourquoi.</span>
		        						</div>
									{% endif %}
								{% endif %}
	    					{% else %}
	    						<div class="i dark-gray">C'est triste à dire mais ce n'est pas à toi d'écrire le futur thème</div>
	    					{% endif %}
	    				{% else %}
	    					<div class="i dark-gray">Aucun joggeur n'est encore déterminé pour écrire le futur thème</div>
						{% endif %}
						</div>
	        		{% endif %}
			</div>
		</div>




		{% if is_granted("ROLE_SUPER_ADMIN")  %}
			<div class="pl2 pv3">
				<h4 class="sub-sub-title">En Cours</h4>								
				{% if theme is defined and theme is not null %}
						<div class='closeTheme-wrapper ptm'>
		        			<a id="closeTheme-grosBouton" data-action="switch-show-brief" class='button button-special black' href="#">
		        				<svg class="icon icon--l icon-toggle dib v-mid"><use xlink:href="#icon-toggle"></use></svg>
		        			</a>
		        			<span class="dib v-mid">Gros bouton qui ferme le thème pour toujours</span>
		        			<div id="closeTheme-brief"></div>
	        			</div>
	    			

				{% else %}
					<div class="mv2">
						<svg class="icon icon--s icon-warning dib v-mid"><use xlink:href="#icon-warning"></use></svg>
						<span class="i dark-gray dib v-mid">Il n'y a aucun thème en cours</span>
						{% if draftmodeTheme is not null %}
							<div class='activeTheme-wrapper'>
	        					<a id="activeTheme-grosBouton" data-action="active-show-brief" class='button button-special black' href="#">
	        						<svg class="icon icon--l icon-toggle dib v-mid"><use xlink:href="#icon-toggle"></use></svg>
	        					</a>
			        			<span class="">Gros bouton qui active le thème d'attente</span>
			        			<div id="activeTheme-brief" class="activeTheme-brief mv2 dn">			<span class="dark-gray i db mv2">Es-tu sûr de vouloir activer le thème d'attente (qui deviendra le thème en cours)?</span>
			        				<div>
			        					<a class="button btn-oui" href="{{ path('tds_marathon_theme_active_validation') }}">oui</a>
			        					<a class="button btn-non" href="">non</a>
			        				</div>
			        				
			        			</div>
		        			</div>
						{% endif %}
					</div>
				{% endif %}
			</div>
		{% endif %}

	{% else %}
		<div class="theme-attente sep clearfix">
			<h3 class="sub-sub-title">Thèmes</h3>
	        <div>Il n'y a pas de saison en cours, par conséquent, tu ne peux pas agir sur les thèmes.
	        </div> 
	    </div>
	{% endif %}
{% endmacro %}